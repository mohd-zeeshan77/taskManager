<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task Management System</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <div class="container">
        <header>
            <h1><span class="icon">ðŸš€</span> Task Management System</h1>
            <p>Organize your tasks efficiently and stay productive!</p>
        </header>

        <main>
            <h2>Features</h2>
            <ul>
                <li>Create, Read, Update, and Delete tasks</li>
                <li>Set task priority (High, Medium, Low)</li>
                <li>Track due dates and task status</li>
                <li>Manage tasks effortlessly with REST APIs</li>
            </ul>

            <div class="button-group">
                <a class="btn" href="/tasks" target="_blank">View Tasks</a>
            </div>

            <h2 id="taskTable">Live Task List</h2>
            <table id="tasksTable">
                <thead>
                    <tr>
                        <th>ID</th>
                        <th>Title</th>
                        <th>Description</th>
                        <th>Due Date</th>
                        <th>Status</th>
                        <th>Priority</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Tasks will be loaded here -->
                </tbody>
            </table>
        </main>

        <footer class="footer">
            <p>Â© 2025 Task Manager | Designed by Mohd Zeeshan Khan</p>
        </footer>
    </div>

    <script>
        // Fetch tasks from backend API and display them
        fetch('/tasks')
            .then(response => response.json())
            .then(tasks => {
                const tableBody = document.getElementById('tasksTable').querySelector('tbody');

                tasks.forEach((task, index) => {
                    const row = document.createElement('tr');
                    row.className = index % 2 === 0 ? 'even-row' : 'odd-row';

                    row.innerHTML = `
                        <td>${task.id}</td>
                        <td>${task.title}</td>
                        <td>${task.description}</td>
                        <td>${task.dueDate ? task.dueDate : '-'}</td>
                        <td>${task.status}</td>
                        <td>${task.priority}</td>
                    `;

                    tableBody.appendChild(row);
                });
            })
            .catch(error => {
                console.error('Error fetching tasks:', error);
            });
    </script>
</body>
</html>